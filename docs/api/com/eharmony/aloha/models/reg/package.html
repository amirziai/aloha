<!DOCTYPE html >
<html>
        <head>
          <title>reg - com.eharmony.aloha.models.reg</title>
          <meta name="description" content="reg - com.eharmony.aloha.models.reg" />
          <meta name="keywords" content="reg com.eharmony.aloha.models.reg" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../../index.html';
            var hash = 'com.eharmony.aloha.models.reg.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../../package.html" class="extype" name="com">com</a>.<a href="../../../package.html" class="extype" name="com.eharmony">eharmony</a>.<a href="../../package.html" class="extype" name="com.eharmony.aloha">aloha</a>.<a href="../package.html" class="extype" name="com.eharmony.aloha.models">models</a></p>
        <h1>reg</h1><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">reg</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><a href="../../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By Inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="com.eharmony.aloha.models.reg"><span>reg</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show All</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.eharmony.aloha.models.reg.Coefficient" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="CoefficientextendsProductwithSerializable"></a>
      <a id="Coefficient:Coefficient"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="Coefficient.html"><span class="name">Coefficient</span></a><span class="params">(<span name="coeff">coeff: <span class="extype" name="scala.Double">Double</span></span>, <span name="featureIndices">featureIndices: <a href="../../../../../scala/package.html#IndexedSeq[+A]=IndexedSeq[A]" class="extmbr" name="scala.IndexedSeq">IndexedSeq</a>[<span class="extype" name="scala.Int">Int</span>] = <span class="symbol"><span class="name"><a href="../../../../../scala/package.html">IndexedSeq.empty[Int]</a></span></span></span>)</span><span class="result"> extends <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@CoefficientextendsProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.eharmony.aloha.models.reg.ConstantDeltaSpline" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ConstantDeltaSplineextendsSplinewithProductwithSerializable"></a>
      <a id="ConstantDeltaSpline:ConstantDeltaSpline"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="ConstantDeltaSpline.html"><span class="name">ConstantDeltaSpline</span></a><span class="params">(<span name="min">min: <span class="extype" name="scala.Double">Double</span></span>, <span name="max">max: <span class="extype" name="scala.Double">Double</span></span>, <span name="knots">knots: <a href="../../../../../scala/package.html#IndexedSeq[+A]=IndexedSeq[A]" class="extmbr" name="scala.IndexedSeq">IndexedSeq</a>[<span class="extype" name="scala.Double">Double</span>]</span>)</span><span class="result"> extends <a href="Spline.html" class="extype" name="com.eharmony.aloha.models.reg.Spline">Spline</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@ConstantDeltaSplineextendsSplinewithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A spline with the property the delta between consecutive domain values is a fixed constant.</p><div class="fullcomment"><div class="comment cmt"><p>A spline with the property the delta between consecutive domain values is a fixed constant.  Because of this,
we just need to specify the min and max and the values in the image of the function.</p><p><b>NOTE</b>: This class is exposed outside the package for use in aloha-conversions only.  This class <i>SHOULD NOT</i>
be used outside the aloha libraries.
</p></div><dl class="paramcmts block"><dt class="param">min</dt><dd class="cmt"><p>the minimum domain value</p></dd><dt class="param">max</dt><dd class="cmt"><p>the maximum domain value (strictly greater than min IFF spline has at least two knots,
           or equal to min IFF spline has one knot)</p></dd><dt class="param">knots</dt><dd class="cmt"><p>Required to have a positive number of knots (size &gt; 0).</p></dd></dl></div>
    </li><li name="com.eharmony.aloha.models.reg.MapTreeLike" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="MapTreeLike[K,+A]extendsTree[A,[+V]scala.collection.immutable.Map[K,V],com.eharmony.aloha.models.reg.MapTreeLike[K,A]]"></a>
      <a id="MapTreeLike[K,+A]:MapTreeLike[K,A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="MapTreeLike.html"><span class="name">MapTreeLike</span></a><span class="tparams">[<span name="K">K</span>, <span name="A">+A</span>]</span><span class="result"> extends <a href="../tree/Tree.html" class="extype" name="com.eharmony.aloha.models.tree.Tree">Tree</a>[<span class="extype" name="com.eharmony.aloha.models.reg.MapTreeLike.A">A</span>, [+V]<span class="extype" name="scala.collection.immutable.Map">Map</span>[<span class="extype" name="com.eharmony.aloha.models.reg.MapTreeLike.K">K</span>, <span class="extype" name="com.eharmony.aloha.models.reg.&lt;refinement&gt;.L.V">V</span>], <a href="MapTreeLike.html" class="extype" name="com.eharmony.aloha.models.reg.MapTreeLike">MapTreeLike</a>[<span class="extype" name="com.eharmony.aloha.models.reg.MapTreeLike.K">K</span>, <span class="extype" name="com.eharmony.aloha.models.reg.MapTreeLike.A">A</span>]]</span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@MapTreeLike[K,+A]extendsTree[A,[+V]scala.collection.immutable.Map[K,V],com.eharmony.aloha.models.reg.MapTreeLike[K,A]]" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A tree with a map structure for the descendants data structure.</p><div class="fullcomment"><div class="comment cmt"><p>A tree with a map structure for the descendants data structure.
<b>Note</b>: Map keys are invariant.  We could make K contravariant and use existential types in the type
lambda to make it so we could construct MapTree without having to specify the type in the root
instance or leave instance.</p></div><dl class="paramcmts block"><dt class="tparam">K</dt><dd class="cmt"><p>key type of the map structure</p></dd><dt class="tparam">A</dt><dd class="cmt"><p>type of the descendant data structure.</p></dd></dl></div>
    </li><li name="com.eharmony.aloha.models.reg.OptToKv" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="OptToKv[A]extendsAnyVal"></a>
      <a id="OptToKv[A]:OptToKv[A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="package$$OptToKv.html"><span class="name">OptToKv</span></a><span class="tparams">[<span name="A">A</span>]</span><span class="result"> extends <span class="extype" name="scala.AnyVal">AnyVal</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@OptToKv[A]extendsAnyVal" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Provides an extension method <i>toKv</i> to convert Options to Seq[(String, Double)].</p><div class="fullcomment"><div class="comment cmt"><p>Provides an extension method <i>toKv</i> to convert Options to Seq[(String, Double)].
This is used to coerce the value to the type that is used in regression models.
We don't do an implicit conversion method from Option[A] to Iterable[(String, Double)]
because it can negatively impact type inference.  So we make the users convert explicitly
via:</p><pre><span class="kw">val</span> option: <span class="std">Option</span>[<span class="std">Int</span>] = <span class="std">Option</span>(<span class="num">1</span>)
<span class="kw">val</span> iterable = option.toKv
require(iterable == <span class="std">List</span>((<span class="lit">""</span>, <span class="num">1</span>d)))</pre></div><dl class="paramcmts block"><dt class="tparam">A</dt><dd class="cmt"><p>the type of Option.</p></dd></dl></div>
    </li><li name="com.eharmony.aloha.models.reg.PolynomialEvaluationAlgo" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="PolynomialEvaluationAlgoextendsAnyRef"></a>
      <a id="PolynomialEvaluationAlgo:PolynomialEvaluationAlgo"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="PolynomialEvaluationAlgo.html"><span class="name">PolynomialEvaluationAlgo</span></a><span class="result"> extends <a href="../../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@PolynomialEvaluationAlgoextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">An algorithm for efficiently evaluating polynomials at a given point.</p><div class="fullcomment"><div class="comment cmt"><p>An algorithm for efficiently evaluating polynomials at a given point.  Evaluating first order polynomials is
obviously a sub case, which is important because first order polynomial evaluation is isomorphic to linear
regression, which may be the standard use case.</p><p>As an example, imagine that we wanted to evaluate <i>Z</i>(<i>u</i>,<i>v</i>,<i>x</i>,<i>y</i>) = <i>w<sub>u,v</sub>uv + w<sub>u,v,x</sub>uvx + w<sub>u,v,y</sub>uvy</i>
for coefficients <i>W</i> = [<i>w<sub>u,v</sub></i>, <i>w<sub>u,v,x</sub></i>, <i>w<sub>u,v,y</sub></i>]<sup>T</sup>.</p><p>This is:</p><ul><li><i>Z</i> = <i>w<sub>u,v</sub>uv + w<sub>u,v,x</sub>uvx + w<sub>u,v,y</sub>uvy</i></li><li><i>Z</i> = <i>uv(w<sub>u,v</sub> + w<sub>u,v,x</sub>x + w<sub>u,v,y</sub>y)</i></li></ul><p>That <i>Z</i> can be factored indicates there is a way to structure the algorithm to efficiently reuse
computations.  The way to achieve this is to structure the possible polynomials as a tree and traverse and
aggregate over the tree.  As the tree is traversed, the computation is accumulated.  As a concrete example,
let's take the above example and show it using real code.  Then a motivation of the example will be provided.</p><p>The computation tree works as follows: the edge labels are multiplied by the associated coefficient (0 if non-existent)
to get the node values.  Node values are added together to get the inner product.  So, every time we descend farther
into the tree, we multiply the running product by the value we extract from the input vector X and every time a
weight is found, it is multiplied by the current product and added to the running sum.  The process recurses until
the tree can no longer by traversed.  The sum is then returned.</p><pre><span class="cmt">//           u            u      v                                u     v     x</span>
<span class="cmt">//    (1)*1.00      (1*1.00)*1.000        u     v    w1     (1*1.00*1.000)*0.75        u     v    x      w2</span>
<span class="cmt">//   ----------> 0 ----------------> 1*1.00*1.000 * 0.5 ------------------------> 1*1.00*1.000*0.75 * 0.111</span>
<span class="cmt">//                                                      \</span>
<span class="cmt">//                                                       \        u     v     y</span>
<span class="cmt">//                                                        \ (1*1.00*1.000)*0.25        u     v    y       w3</span>
<span class="cmt">//                                                         ---------------------> 1*1.00*1.000*0.25 * 0.4545</span>
<span class="cmt">//</span>
<span class="cmt">//         u *     v *  w1    +       u *     v *    x *    w2   +       u *     v *    y *     w3</span>
<span class="kw">val</span> Z = <span class="num">1.00</span> * <span class="num">1.000</span> * <span class="num">0.5</span>    +    <span class="num">1.00</span> * <span class="num">1.000</span> * <span class="num">0.75</span> * <span class="num">0.111</span>   +    <span class="num">1.00</span> * <span class="num">1.000</span> * <span class="num">0.25</span> * <span class="num">0.4545</span>

<span class="kw">val</span> X = IndexedSeq(
          <span class="std">Seq</span>((<span class="lit">"a=1"</span>, <span class="num">1.00</span>)),                  <span class="cmt">// u</span>
          <span class="std">Seq</span>((<span class="lit">"b=1"</span>, <span class="num">1.000</span>)),                 <span class="cmt">// v</span>
          <span class="std">Seq</span>((<span class="lit">"c=1"</span>, <span class="num">0.75</span>), (<span class="lit">"c=2"</span>, <span class="num">0.25</span>)))   <span class="cmt">// x and y, respectively</span>

<span class="kw">val</span> W1 =
  PolynomialEvaluator(Coefficient(<span class="num">0</span>, IndexedSeq(<span class="num">0</span>)), <span class="std">Map</span>(
    <span class="lit">"a=1"</span> -&gt; PolynomialEvaluator(Coefficient(<span class="num">0</span>, IndexedSeq(<span class="num">1</span>)), <span class="std">Map</span>(
      <span class="lit">"b=1"</span> -&gt; PolynomialEvaluator(Coefficient(<span class="num">0.5</span>, IndexedSeq(<span class="num">2</span>)), <span class="std">Map</span>(   <span class="cmt">// w1</span>
        <span class="lit">"c=1"</span> -&gt; PolynomialEvaluator(Coefficient(<span class="num">0.111</span>)),                  <span class="cmt">// w2</span>
        <span class="lit">"c=2"</span> -&gt; PolynomialEvaluator(Coefficient(<span class="num">0.4545</span>))))))))            <span class="cmt">// w3</span>


assert(Z == (W1 dot X))</pre><p>While constructing a <a href="PolynomialEvaluator.html" class="extype" name="com.eharmony.aloha.models.reg.PolynomialEvaluator">PolynomialEvaluator</a> via direct means is entirely
possible, it is less straightforward than using a builder to do it.  Below, we show a better way to construct
<a href="PolynomialEvaluator.html" class="extype" name="com.eharmony.aloha.models.reg.PolynomialEvaluator">PolynomialEvaluator</a> instances where we just specify the terms in the
polynomial and the associated coefficient values.  Note linear regression is the special case when all of the
inner maps contain exactly one element.</p><pre><span class="kw">val</span> W2 = (PolynomialEvaluator.builder ++= <span class="std">Map</span>(
  <span class="std">Map</span>(<span class="lit">"a=1"</span> -&gt; <span class="num">0</span>, <span class="lit">"b=1"</span> -&gt; <span class="num">1</span>            ) -&gt; <span class="num">0.5</span>,
  <span class="std">Map</span>(<span class="lit">"a=1"</span> -&gt; <span class="num">0</span>, <span class="lit">"b=1"</span> -&gt; <span class="num">1</span>, <span class="lit">"c=1"</span> -&gt; <span class="num">2</span>) -&gt; <span class="num">0.111</span>,
  <span class="std">Map</span>(<span class="lit">"a=1"</span> -&gt; <span class="num">0</span>, <span class="lit">"b=1"</span> -&gt; <span class="num">1</span>, <span class="lit">"c=2"</span> -&gt; <span class="num">2</span>) -&gt; <span class="num">0.4545</span>
)).result

assert(W2 == W1)</pre><p>Notice the values in the inner map look a little weird.  These are the indices into the input vector x from which
the key comes.  This is for efficiency purposes but allows the algorithm to dramatically prune the search
space while accumulating over the tree.
</p></div></div>
    </li><li name="com.eharmony.aloha.models.reg.PolynomialEvaluator" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PolynomialEvaluatorextendsMapTreeLike[String,com.eharmony.aloha.models.reg.Coefficient]withPolynomialEvaluationAlgowithProductwithSerializable"></a>
      <a id="PolynomialEvaluator:PolynomialEvaluator"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="PolynomialEvaluator.html"><span class="name">PolynomialEvaluator</span></a><span class="params">(<span name="value">value: <a href="Coefficient.html" class="extype" name="com.eharmony.aloha.models.reg.Coefficient">Coefficient</a></span>, <span name="descendants">descendants: <span class="extype" name="scala.Predef.Map">Map</span>[<span class="extype" name="scala.Predef.String">String</span>, <a href="PolynomialEvaluator.html" class="extype" name="com.eharmony.aloha.models.reg.PolynomialEvaluator">PolynomialEvaluator</a>] = <span class="defval" name="Map.empty[String, PolynomialEvaluator]">...</span></span>)</span><span class="result"> extends <a href="MapTreeLike.html" class="extype" name="com.eharmony.aloha.models.reg.MapTreeLike">MapTreeLike</a>[<span class="extype" name="scala.Predef.String">String</span>, <a href="Coefficient.html" class="extype" name="com.eharmony.aloha.models.reg.Coefficient">Coefficient</a>] with <a href="PolynomialEvaluationAlgo.html" class="extype" name="com.eharmony.aloha.models.reg.PolynomialEvaluationAlgo">PolynomialEvaluationAlgo</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@PolynomialEvaluatorextendsMapTreeLike[String,com.eharmony.aloha.models.reg.Coefficient]withPolynomialEvaluationAlgowithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Provides a method to evaluate polynomials given an input.</p><div class="fullcomment"><div class="comment cmt"><p>Provides a method to evaluate polynomials given an input.  Default implementation of
<a href="PolynomialEvaluationAlgo.html" class="extype" name="com.eharmony.aloha.models.reg.PolynomialEvaluationAlgo">com.eharmony.aloha.models.reg.PolynomialEvaluationAlgo</a>.</p></div></div>
    </li><li name="com.eharmony.aloha.models.reg.RegFeatureCompiler" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="RegFeatureCompilerextendsAnyRef"></a>
      <a id="RegFeatureCompiler:RegFeatureCompiler"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="RegFeatureCompiler.html"><span class="name">RegFeatureCompiler</span></a><span class="result"> extends <a href="../../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@RegFeatureCompilerextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Created by deak on 11/1/15.</p>
    </li><li name="com.eharmony.aloha.models.reg.RegressionFeatures" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="RegressionFeatures[-A]extendsAnyRef"></a>
      <a id="RegressionFeatures[-A]:RegressionFeatures[A]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="RegressionFeatures.html"><span class="name">RegressionFeatures</span></a><span class="tparams">[<span name="A">-A</span>]</span><span class="result"> extends <a href="../../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@RegressionFeatures[-A]extendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A helper trait for sparse regression models with String keys.</p><div class="fullcomment"><div class="comment cmt"><p>A helper trait for sparse regression models with String keys.  This trait exposes the <i>constructFeatures</i>
method which applies the <i>featureFunctions</i> to the input data and keeps track of missing features.</p></div></div>
    </li><li name="com.eharmony.aloha.models.reg.RegressionModel" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="RegressionModel[U,-A,+B&lt;:U]extendsSubmodelBase[U,Double,A,B]withRegressionFeatures[A]withLoggingwithProductwithSerializable"></a>
      <a id="RegressionModel[U,-A,+B&lt;:U]:RegressionModel[U,A,B]"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="RegressionModel.html"><span class="name">RegressionModel</span></a><span class="tparams">[<span name="U">U</span>, <span name="A">-A</span>, <span name="B">+B &lt;: <span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.U">U</span></span>]</span><span class="params">(<span name="modelId">modelId: <a href="../../id/ModelIdentity.html" class="extype" name="com.eharmony.aloha.id.ModelIdentity">ModelIdentity</a></span>, <span name="featureNames">featureNames: <span class="extype" name="scala.collection.immutable.IndexedSeq">IndexedSeq</span>[<span class="extype" name="scala.Predef.String">String</span>]</span>, <span name="featureFunctions">featureFunctions: <span class="extype" name="scala.collection.immutable.IndexedSeq">IndexedSeq</span>[<a href="../../semantics/func/GenAggFunc.html" class="extype" name="com.eharmony.aloha.semantics.func.GenAggFunc">GenAggFunc</a>[<span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.A">A</span>, <a href="../../../../../scala/package.html#Iterable[+A]=Iterable[A]" class="extmbr" name="scala.Iterable">Iterable</a>[(<span class="extype" name="scala.Predef.String">String</span>, <span class="extype" name="scala.Double">Double</span>)]]]</span>, <span name="beta">beta: <a href="PolynomialEvaluationAlgo.html" class="extype" name="com.eharmony.aloha.models.reg.PolynomialEvaluationAlgo">PolynomialEvaluationAlgo</a></span>, <span name="invLinkFunction">invLinkFunction: (<span class="extype" name="scala.Double">Double</span>) ⇒ <span class="extype" name="scala.Double">Double</span></span>, <span name="spline">spline: <span class="extype" name="scala.Option">Option</span>[<a href="Spline.html" class="extype" name="com.eharmony.aloha.models.reg.Spline">Spline</a>]</span>, <span name="numMissingThreshold">numMissingThreshold: <span class="extype" name="scala.Option">Option</span>[<span class="extype" name="scala.Int">Int</span>]</span>, <span name="auditor">auditor: <a href="../../audit/Auditor.html" class="extype" name="com.eharmony.aloha.audit.Auditor">Auditor</a>[<span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.U">U</span>, <span class="extype" name="scala.Double">Double</span>, <span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.B">B</span>]</span>)</span><span class="result"> extends <a href="../SubmodelBase.html" class="extype" name="com.eharmony.aloha.models.SubmodelBase">SubmodelBase</a>[<span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.U">U</span>, <span class="extype" name="scala.Double">Double</span>, <span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.A">A</span>, <span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.B">B</span>] with <a href="RegressionFeatures.html" class="extype" name="com.eharmony.aloha.models.reg.RegressionFeatures">RegressionFeatures</a>[<span class="extype" name="com.eharmony.aloha.models.reg.RegressionModel.A">A</span>] with <a href="../../util/Logging.html" class="extype" name="com.eharmony.aloha.util.Logging">Logging</a> with <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@RegressionModel[U,-A,+B&lt;:U]extendsSubmodelBase[U,Double,A,B]withRegressionFeatures[A]withLoggingwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A regression model capable of doing not only linear regression but polynomial regression in general.</p><div class="fullcomment"><div class="comment cmt"><p>A regression model capable of doing not only linear regression but polynomial regression in general.</p><pre><span class="kw">val</span> regImp = <span class="lit">"com.eharmony.aloha.models.reg.RegressionModelValueToTupleConversions._"</span>
<span class="kw">val</span> compiler = ...
<span class="kw">val</span> plugin = ...
<span class="kw">val</span> imports: <span class="std">Seq</span>[<span class="std">String</span>] = ...
<span class="kw">val</span> s = CompiledSemantics(compiler, plugin, imports :+ regImp)</pre><p>This is useful because these conversions allow implicit conversion function from some of the AnyVal types and
Options of AnyVal types to Iterable[(String, Double)].  This is useful because specifying features in the JSON
spec like:</p><pre>{
  ...
  <span class="lit">"features"</span>: {
    <span class="lit">"intercept"</span>: <span class="lit">"-3"</span>,
    <span class="lit">"income"</span>: <span class="lit">"${user.profile.income}"</span>
  }
}</pre><p>into sequences like:</p><pre><span class="kw">val</span> interceptFeature = Iterable((<span class="lit">"intercept"</span>, <span class="num">3.0</span>))  <span class="cmt">// AND</span>
<span class="kw">val</span> incomeFeature = Iterable((<span class="lit">"income"</span>, [the income value converted to a double]))</pre><p>For more information, see <a href="RegressionModelValueToTupleConversions.html" class="extype" name="com.eharmony.aloha.models.reg.RegressionModelValueToTupleConversions">com.eharmony.aloha.models.reg.RegressionModelValueToTupleConversions</a>.
</p></div><dl class="paramcmts block"><dt class="tparam">A</dt><dd class="cmt"><p>model input type</p></dd><dt class="tparam">B</dt><dd class="cmt"><p>model output type.
          to convert from B to com.eharmony.aloha.score.Scores.Score</p></dd><dt class="param">modelId</dt><dd class="cmt"><p>An identifier for the model.  User in score and error reporting.</p></dd><dt class="param">featureNames</dt><dd class="cmt"><p>feature names (parallel to featureFunctions)</p></dd><dt class="param">featureFunctions</dt><dd class="cmt"><p>feature extracting functions.</p></dd><dt class="param">beta</dt><dd class="cmt"><p>representation of the regression model parameters.</p></dd><dt class="param">invLinkFunction</dt><dd class="cmt"><p>a function applied to the inner product of the input vector and weight vector.</p></dd><dt class="param">spline</dt><dd class="cmt"><p>an optional calibration spline to
              <a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.29.3039" target="_blank">Obtaining calibrated probability
                estimates from decision trees and naive Bayesian classifiers</a>, Zadrozny, Elkan (ICML, 2001).  This
                is applied prior to invLinkFunction</p></dd><dt class="param">numMissingThreshold</dt><dd class="cmt"><p>if provided, we check whether the threshold is exceeded.  If so, return an error instead
                           of the computed score.  This is for missing data situations.</p></dd></dl></div>
    </li><li name="com.eharmony.aloha.models.reg.RegressionModelValueToTupleConversions" visbl="pub" data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="RegressionModelValueToTupleConversionsextendsAnyRef"></a>
      <a id="RegressionModelValueToTupleConversions:RegressionModelValueToTupleConversions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="RegressionModelValueToTupleConversions.html"><span class="name">RegressionModelValueToTupleConversions</span></a><span class="result"> extends <a href="../../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@RegressionModelValueToTupleConversionsextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Provides a series of implicit conversions to make the specification of regression models cleaner.</p><div class="fullcomment"><div class="comment cmt"><p>Provides a series of implicit conversions to make the specification of regression models cleaner.</p><p>Each feature in the Regression model constructs an Iterable[(String, Double)].  Once each feature constructs
the iterable, the regression model maps this to a new one prefixed by the feature name.  For instance, in the
example that follows, &quot;intercept&quot; would emit a value of type Long which would become a function of type
<a href="../../semantics/func/GenAggFunc.html" class="extype" name="com.eharmony.aloha.semantics.func.GenAggFunc">com.eharmony.aloha.semantics.func.GenAggFunc</a> [A, Long].  This however doesn't match the expected
output type of <a href="../../semantics/func/GenAggFunc.html" class="extype" name="com.eharmony.aloha.semantics.func.GenAggFunc">com.eharmony.aloha.semantics.func.GenAggFunc</a> [A, Iterable[(String, Double)] ].
Conversions are provide for {Byte, Short, Int, Long, Float, Double} and the Option equivalents so that can
produce specify the translate the JSON key-value pair &quot;intercept&quot;: &quot;1234L&quot; to Iterable((&quot;&quot;, 1234.0)), which
when prefixed will yield Iterable((&quot;intercept&quot;, 1234.0))</p><pre>  * {
  <span class="lit">"modelType"</span>: <span class="lit">"Regression"</span>,
  <span class="lit">"modelId"</span>: {<span class="lit">"id"</span>: <span class="num">0</span>, <span class="lit">"name"</span>: <span class="lit">""</span>},
  <span class="lit">"features"</span>: {
    <span class="lit">"intercept"</span>: <span class="lit">"1234L"</span>,
    <span class="lit">"some_option"</span>: <span class="lit">"Option(5678L).toKv"</span>
    ...
  },
  ...
}</pre></div></div>
    </li><li name="com.eharmony.aloha.models.reg.Spline" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="SplineextendsDouble=&gt;Double"></a>
      <a id="Spline:Spline"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">sealed </span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="Spline.html"><span class="name">Spline</span></a><span class="result"> extends (<span class="extype" name="scala.Double">Double</span>) ⇒ <span class="extype" name="scala.Double">Double</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@SplineextendsDouble=&gt;Double" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="com.eharmony.aloha.models.reg.PolynomialEvaluator" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="PolynomialEvaluator"></a>
      <a id="PolynomialEvaluator:PolynomialEvaluator"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="PolynomialEvaluator$.html"><span class="name">PolynomialEvaluator</span></a><span class="result"> extends <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@PolynomialEvaluator" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A polynomial evaluator.</p>
    </li><li name="com.eharmony.aloha.models.reg.RegressionModel" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RegressionModel"></a>
      <a id="RegressionModel:RegressionModel"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RegressionModel$.html"><span class="name">RegressionModel</span></a><span class="result"> extends <a href="../../factory/ParserProviderCompanion.html" class="extype" name="com.eharmony.aloha.factory.ParserProviderCompanion">ParserProviderCompanion</a> with <a href="json/RegressionModelJson.html" class="extype" name="com.eharmony.aloha.models.reg.json.RegressionModelJson">RegressionModelJson</a> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@RegressionModel" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.eharmony.aloha.models.reg.RegressionModelValueToTupleConversions" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="RegressionModelValueToTupleConversions"></a>
      <a id="RegressionModelValueToTupleConversions:RegressionModelValueToTupleConversions"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="RegressionModelValueToTupleConversions$.html"><span class="name">RegressionModelValueToTupleConversions</span></a><span class="result"> extends <a href="RegressionModelValueToTupleConversions.html" class="extype" name="com.eharmony.aloha.models.reg.RegressionModelValueToTupleConversions">RegressionModelValueToTupleConversions</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@RegressionModelValueToTupleConversions" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="com.eharmony.aloha.models.reg.json" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="json"></a>
      <a id="json:json"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="json/package.html"><span class="name">json</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../../index.html#com.eharmony.aloha.models.reg.package@json" title="Permalink" target="_top">
        <img src="../../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <a href="../../../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
